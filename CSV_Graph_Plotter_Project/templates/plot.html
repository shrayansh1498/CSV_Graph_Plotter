{% comment %} <!DOCTYPE html>
<html>
<head>
    <title>CSV Graph Plotter - Plot</title>
</head>
<body>
    <h1>{{title }}</h1> 
    <img src="data:image/png;base64,{{ chart }}" alt="Chart">
</body>
</html>  {% endcomment %}

<!DOCTYPE html>
<html>
<head>
    <title>CSV Graph Plotter - Plot</title>
</head>
<body>
    <h1>{{ title }}</h1>

    <h2>Line Graph</h2>
    <button id="show-line-graph-button">Show Line Graph</button>
    <button id="hide-line-graph-button" style="display: none;">Hide Graph</button>
    <div id="chart1" style="display: none;">
        <img src="data:image/png;base64,{{ lineChart }}" alt="Plot">
    </div>

    <div id="download-line-graph-container" style="display: block;">
        <button id="download-line-graph-button" style="display: block;">Download Line Graph</button>
        <select id="download-line-graph-format">
            <option value="png">PNG</option>
            <option value="jpg">JPG</option>
            <option value="svg">SVG</option>
        </select>
    </div>


    <script>
        document.getElementById("show-line-graph-button").addEventListener("click", function() {
            document.getElementById("chart1").style.display = "block";   //show the graph
            this.style.display = "none"; // Hide the "Show Graph" button
            document.getElementById("hide-line-graph-button").style.display = "block";   //show the "Hide Graph" button
            //document.getElementById("download-graph-button").style.display = "block";   //show the "Download Graph button"
        });

        document.getElementById("hide-line-graph-button").addEventListener("click", function() {
            document.getElementById("chart1").style.display = "none";    //hide the graph
            document.getElementById("show-line-graph-button").style.display = "block";   //show the "Show Graph" button
            document.getElementById("hide-line-graph-button").style.display = "none";    //hide the "Hide Graph" button
            //document.getElementById("download-graph-button").style.display = "none";    //show the "Download Graph button"
        });

        document.getElementById("download-line-graph-button").addEventListener("click", function() {
            var selectedFormat = document.getElementById("download-line-graph-format").value;
            var dataUrl = "data:image/" + selectedFormat + ";base64,{{ lineChart }}";
            var fileName = "lineGraph." + selectedFormat;
            
            // Create a link element to trigger the download
            var link = document.createElement("a");
            link.href = dataUrl;
            link.download = fileName;
            link.click();
        });

    </script>

    {% comment %} Bar Graph {% endcomment %}

    <h2>Bar Graph</h2>
    <button id="show-bar-graph-button">Show Bar Graph</button>
    <button id="hide-bar-graph-button" style="display: none;">Hide Bar Graph</button>
    <div id="chart2" style="display: none;">
        <img src="data:image/png;base64,{{ barChart }}" alt="Plot">
    </div>

    <div id="download-bar-graph-container" style="display: block;">
        <button id="download-bar-graph-button" style="display: block;">Download Bar Graph</button>
        <select id="download-bar-graph-format">
            <option value="png">PNG</option>
            <option value="jpg">JPG</option>
            <option value="svg">SVG</option>
        </select>
    </div>


    <script>
        document.getElementById("show-bar-graph-button").addEventListener("click", function() {
            document.getElementById("chart2").style.display = "block";   //show the graph
            this.style.display = "none"; // Hide the "Show Graph" button
            document.getElementById("hide-bar-graph-button").style.display = "block";   //show the "Hide Graph" button
            //document.getElementById("download-graph-button").style.display = "block";   //show the "Download Graph button"
        });

        document.getElementById("hide-bar-graph-button").addEventListener("click", function() {
            document.getElementById("chart2").style.display = "none";    //hide the graph
            document.getElementById("show-bar-graph-button").style.display = "block";   //show the "Show Graph" button
            document.getElementById("hide-bar-graph-button").style.display = "none";    //hide the "Hide Graph" button
            //document.getElementById("download-graph-button").style.display = "none";    //show the "Download Graph button"
        });

        document.getElementById("download-bar-graph-button").addEventListener("click", function() {
            var selectedFormat = document.getElementById("download-bar-graph-format").value;
            var dataUrl = "data:image/" + selectedFormat + ";base64,{{ barChart }}";
            var fileName = "barGraph." + selectedFormat;
            
            // Create a link element to trigger the download
            var link = document.createElement("a");
            link.href = dataUrl;
            link.download = fileName;
            link.click();
        });

    </script>


    {% comment %} Scatter Graph {% endcomment %}

    <h2>Scatter Graph</h2>
    <button id="show-scatter-graph-button">Show Scatter Graph</button>
    <button id="hide-scatter-graph-button" style="display: none;">Hide Scatter Graph</button>
    <div id="chart3" style="display: none;">
        <img src="data:image/png;base64,{{ scatterChart }}" alt="Plot">
    </div>

    <div id="download-scatter-graph-container" style="display: block;">
        <button id="download-scatter-graph-button" style="display: block;">Download Scatter Graph</button>
        <select id="download-scatter-graph-format">
            <option value="png">PNG</option>
            <option value="jpg">JPG</option>
            <option value="svg">SVG</option>
        </select>
    </div>


    <script>
        document.getElementById("show-scatter-graph-button").addEventListener("click", function() {
            document.getElementById("chart3").style.display = "block";   //show the graph
            this.style.display = "none"; // Hide the "Show Graph" button
            document.getElementById("hide-scatter-graph-button").style.display = "block";   //show the "Hide Graph" button
            //document.getElementById("download-graph-button").style.display = "block";   //show the "Download Graph button"
        });

        document.getElementById("hide-scatter-graph-button").addEventListener("click", function() {
            document.getElementById("chart3").style.display = "none";    //hide the graph
            document.getElementById("show-scatter-graph-button").style.display = "block";   //show the "Show Graph" button
            document.getElementById("hide-scatter-graph-button").style.display = "none";    //hide the "Hide Graph" button
            //document.getElementById("download-graph-button").style.display = "none";    //show the "Download Graph button"
        });

        document.getElementById("download-scatter-graph-button").addEventListener("click", function() {
            var selectedFormat = document.getElementById("download-scatter-graph-format").value;
            var dataUrl = "data:image/" + selectedFormat + ";base64,{{ scatterChart }}";
            var fileName = "scatterGraph." + selectedFormat;
            
            // Create a link element to trigger the download
            var link = document.createElement("a");
            link.href = dataUrl;
            link.download = fileName;
            link.click();
        });

    </script>


    {% comment %} Histogram Graph for X-column{% endcomment %}

    <h2>Histogram Graph for {{x_column}} Column</h2>
    <button id="show-histogram1-graph-button">Show Histogram Graph 1</button>
    <button id="hide-histogram1-graph-button" style="display: none;">Hide Histogram Graph 1</button>
    <div id="chart4" style="display: none;">
        <img src="data:image/png;base64,{{ histogramChart1 }}" alt="Plot">
    </div>

    <div id="download-histogram1-graph-container" style="display: block;">
        <button id="download-histogram1-graph-button" style="display: block;">Download Histogram Graph 1</button>
        <select id="download-histogram1-graph-format">
            <option value="png">PNG</option>
            <option value="jpg">JPG</option>
            <option value="svg">SVG</option>
        </select>
    </div>


    <script>
        document.getElementById("show-histogram1-graph-button").addEventListener("click", function() {
            document.getElementById("chart4").style.display = "block";   //show the graph
            this.style.display = "none"; // Hide the "Show Graph" button
            document.getElementById("hide-histogram1-graph-button").style.display = "block";   //show the "Hide Graph" button
            //document.getElementById("download-graph-button").style.display = "block";   //show the "Download Graph button"
        });

        document.getElementById("hide-histogram1-graph-button").addEventListener("click", function() {
            document.getElementById("chart4").style.display = "none";    //hide the graph
            document.getElementById("show-histogram1-graph-button").style.display = "block";   //show the "Show Graph" button
            document.getElementById("hide-histogram1-graph-button").style.display = "none";    //hide the "Hide Graph" button
            //document.getElementById("download-graph-button").style.display = "none";    //show the "Download Graph button"
        });

        document.getElementById("download-histogram1-graph-button").addEventListener("click", function() {
            var selectedFormat = document.getElementById("download-histogram1-graph-format").value;
            var dataUrl = "data:image/" + selectedFormat + ";base64,{{ histogramChart1 }}";
            var fileName = "histogramGraph1." + selectedFormat;
            
            // Create a link element to trigger the download
            var link = document.createElement("a");
            link.href = dataUrl;
            link.download = fileName;
            link.click();
        });

    </script>


    {% comment %} Histogram Graph for Y-column{% endcomment %}

    <h2>Histogram Graph for {{y_column}} Column</h2>
    <button id="show-histogram2-graph-button">Show Histogram Graph 2</button>
    <button id="hide-histogram2-graph-button" style="display: none;">Hide Histogram Graph 2</button>
    <div id="chart5" style="display: none;">
        <img src="data:image/png;base64,{{ histogramChart2 }}" alt="Plot">
    </div>

    <div id="download-histogram2-graph-container" style="display: block;">
        <button id="download-histogram2-graph-button" style="display: block;">Download Histogram Graph 2</button>
        <select id="download-histogram2-graph-format">
            <option value="png">PNG</option>
            <option value="jpg">JPG</option>
            <option value="svg">SVG</option>
        </select>
    </div>


    <script>
        document.getElementById("show-histogram2-graph-button").addEventListener("click", function() {
            document.getElementById("chart5").style.display = "block";   //show the graph
            this.style.display = "none"; // Hide the "Show Graph" button
            document.getElementById("hide-histogram2-graph-button").style.display = "block";   //show the "Hide Graph" button
            //document.getElementById("download-graph-button").style.display = "block";   //show the "Download Graph button"
        });

        document.getElementById("hide-histogram2-graph-button").addEventListener("click", function() {
            document.getElementById("chart5").style.display = "none";    //hide the graph
            document.getElementById("show-histogram2-graph-button").style.display = "block";   //show the "Show Graph" button
            document.getElementById("hide-histogram2-graph-button").style.display = "none";    //hide the "Hide Graph" button
            //document.getElementById("download-graph-button").style.display = "none";    //show the "Download Graph button"
        });

        document.getElementById("download-histogram2-graph-button").addEventListener("click", function() {
            var selectedFormat = document.getElementById("download-histogram2-graph-format").value;
            var dataUrl = "data:image/" + selectedFormat + ";base64,{{ histogramChart2 }}";
            var fileName = "histogramGraph2." + selectedFormat;
            
            // Create a link element to trigger the download
            var link = document.createElement("a");
            link.href = dataUrl;
            link.download = fileName;
            link.click();
        });
    </script>

</body>
</html>
